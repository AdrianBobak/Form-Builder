!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=281)}({281:function(e,t,n){"use strict";var r;n.r(t),window.addEventListener("load",function(){if(window.indexedDB){var e=indexedDB.open("formBuilder",1);e.addEventListener("error",function(e){throw e.target.error}),e.addEventListener("success",function(){r=e.result,a()}),e.addEventListener("upgradeneeded",function(e){e.target.result.createObjectStore("form",{keyPath:"index"})})}});var a=function(){if(window.indexedDB){var e=r.transaction("form").objectStore("form").getAll();e.addEventListener("success",function(){o(e.result)}),e.addEventListener("error",function(e){throw e.target.error})}},o=function(e){var t=document.createDocumentFragment();e.forEach(function(e){var n=c(e);if(0===parseInt(e.nest))t.appendChild(n);else{var r=t.querySelectorAll('[data-nest="'.concat(e.nest-1,'"]'));r[r.length-1].appendChild(n)}}),playground.insertBefore(t,document.querySelector("#addInput"))},d=function(){var e=0,t=[];document.querySelectorAll("form").forEach(function(n){var r={index:e++,nest:n.parentNode.dataset.nest,typeValue:n.dataset.typeValue,questionInput:n.querySelector('[name="questionInput"]').value,selectValue:n.querySelector('[name="selectValue"]').value};n.querySelector('[name="conditionKey"]')&&(r.conditionKey=n.querySelector('[name="conditionKey"]').value),n.querySelector('[name="conditionValue"]')&&(r.conditionValue=n.querySelector('[name="conditionValue"]').value),t.push(r)}),i(t)},i=function(e){r.transaction(["form"],"readwrite").objectStore("form").clear().addEventListener("error",function(e){throw e.target.error}),e.forEach(function(e){r.transaction(["form"],"readwrite").objectStore("form").add(e).addEventListener("error",function(e){throw e.target.error})})},u=function(e){e.preventDefault(),confirm("Are you sure?")&&(e.target.parentNode.parentNode.parentNode.remove(),d())},l=function(e){e.preventDefault();var t=e.target.parentNode.parentNode.querySelector(".question input");if(t.value){t.classList.remove("error");var n={},r=e.target.parentNode.parentNode.parentNode;n.nest=parseInt(r.dataset.nest)+1,n.typeValue=r.querySelector(".type select").value,r.appendChild(c(n)),d()}else t.classList.add("error")},c=function(e){var t=document.createElement("div"),n=document.createElement("form");if(e&&e.nest?(t.dataset.nest=e.nest,n.style.marginLeft=30*e.nest+"px"):(t.dataset.nest=0,n.style.marginLeft=0),e&&e.typeValue&&(n.dataset.typeValue=e.typeValue),e&&e.nest>0){var r=document.createElement("div");r.classList.add("row","condition");var a=document.createElement("p");a.textContent="Condition",r.appendChild(a);var o=document.createElement("select");o.name="conditionKey";var i=document.createElement("option");if(i.value="Equals",i.textContent="Equals",o.appendChild(i),"number"===e.typeValue){var c=document.createElement("option");c.value="Greater than",c.textContent="Greater than",o.appendChild(c);var p=document.createElement("option");p.value="Less than",p.textContent="Less than",o.appendChild(p)}if(e&&e.conditionKey&&(o.value=e.conditionKey),o.addEventListener("change",d),r.appendChild(o),"radio"===e.typeValue){var s=document.createElement("select");s.name="conditionValue";var m=document.createElement("option");m.value="Yes",m.textContent="Yes",s.appendChild(m);var v=document.createElement("option");v.value="No",v.textContent="No",s.appendChild(v),e&&e.conditionValue&&(s.value=e.conditionValue),s.addEventListener("change",d),r.appendChild(s)}else{var f=document.createElement("input");f.name="conditionValue","number"===e.typeValue?f.type="number":f.type="text",e.conditionValue&&(f.value=e.conditionValue),f.addEventListener("change",d),r.appendChild(f)}n.appendChild(r)}var y=document.createElement("div");y.classList.add("row","question");var h=document.createElement("p");h.textContent="Question",y.appendChild(h);var E=document.createElement("input");E.name="questionInput",E.type="text",e&&e.questionInput&&(E.value=e.questionInput),E.addEventListener("change",d),y.appendChild(E),n.appendChild(y);var C=document.createElement("div");C.classList.add("row","type");var g=document.createElement("p");g.textContent="Type",C.appendChild(g);var b=document.createElement("select");b.name="selectValue";var x=document.createElement("option");x.value="text",x.textContent="Text",b.appendChild(x);var L=document.createElement("option");L.value="number",L.textContent="Number",b.appendChild(L);var S=document.createElement("option");S.value="radio",S.textContent="Yes / No",b.appendChild(S),e&&e.selectValue&&(b.value=e.selectValue),b.addEventListener("change",d),C.append(b),n.appendChild(C);var V=document.createElement("div");V.classList.add("row","submit");var q=document.createElement("input");q.type="submit",q.value="Add Sub-input",q.addEventListener("click",l),V.appendChild(q);var w=document.createElement("input");return w.type="submit",w.value="Delete",w.addEventListener("click",u),V.appendChild(w),n.appendChild(V),t.appendChild(n),t},p=document.querySelector("#playground"),s=p.querySelector("#addInput");s.addEventListener("click",function(){p.insertBefore(c(),s),d()})}});